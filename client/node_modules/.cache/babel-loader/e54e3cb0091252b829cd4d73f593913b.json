{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nitin rajput\\\\Desktop\\\\projects\\\\blogwebsite\\\\client\\\\src\\\\component\\\\Allpost\\\\Allpost.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Allpost = () => {\n  _s();\n\n  const [userData, setuserData] = useState([]);\n  const [updatedItem, setUpdateItem] = useState({\n    title: \"\",\n    content: \"\"\n  });\n\n  const getData = async () => {\n    try {\n      const res = await fetch(\"/read\", {\n        method: \"GET\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\"\n      });\n      const data = await res.json();\n      setuserData(data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const deleteData = id => {\n    axios.delete(`http://localhost:3000/delete/${id}`);\n    getData();\n    alert(\"item delete\");\n  };\n\n  const onUpdate = id => {\n    setUpdateItem(preInput => {\n      return { ...preInput,\n        id: id\n      };\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: userData.map(val => {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              class: \"card-title\",\n              children: val.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              class: \"card-text\",\n              children: val.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: `/edit/${val._id}`,\n              className: \"btn btn-outline-dark\",\n              onClick: () => {\n                onUpdate(val._id);\n              },\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-outline-dark\",\n              onClick: () => deleteData(val._id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this)\n      }, void 0, false);\n    })\n  }, void 0, false);\n};\n\n_s(Allpost, \"P86Tnlq0+wnTSU9BzhiECW+Fr40=\");\n\n_c = Allpost;\nexport default Allpost;\n\nvar _c;\n\n$RefreshReg$(_c, \"Allpost\");","map":{"version":3,"sources":["C:/Users/nitin rajput/Desktop/projects/blogwebsite/client/src/component/Allpost/Allpost.jsx"],"names":["React","useState","useEffect","axios","Link","Allpost","userData","setuserData","updatedItem","setUpdateItem","title","content","getData","res","fetch","method","headers","Accept","credentials","data","json","error","console","log","deleteData","id","delete","alert","onUpdate","preInput","map","val","_id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;;;;AAEA,MAAMC,OAAO,GAAG,MAAM;AAAA;;AACpB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,EAAD,CAAxC;AAEA,QAAM,CAACO,WAAD,EAAcC,aAAd,IAA+BR,QAAQ,CAAC;AAC5CS,IAAAA,KAAK,EAAE,EADqC;AAE5CC,IAAAA,OAAO,EAAE;AAFmC,GAAD,CAA7C;;AAKA,QAAMC,OAAO,GAAG,YAAY;AAC1B,QAAI;AACF,YAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,OAAD,EAAU;AAC/BC,QAAAA,MAAM,EAAE,KADuB;AAE/BC,QAAAA,OAAO,EAAE;AACPC,UAAAA,MAAM,EAAE,kBADD;AAEP,0BAAgB;AAFT,SAFsB;AAM/BC,QAAAA,WAAW,EAAE;AANkB,OAAV,CAAvB;AASA,YAAMC,IAAI,GAAG,MAAMN,GAAG,CAACO,IAAJ,EAAnB;AACAb,MAAAA,WAAW,CAACY,IAAD,CAAX;AACD,KAZD,CAYE,OAAOE,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,GAhBD;;AAkBAnB,EAAAA,SAAS,CAAC,MAAM;AACdU,IAAAA,OAAO;AACR,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMY,UAAU,GAAIC,EAAD,IAAQ;AACzBtB,IAAAA,KAAK,CAACuB,MAAN,CAAc,gCAA+BD,EAAG,EAAhD;AACAb,IAAAA,OAAO;AACPe,IAAAA,KAAK,CAAC,aAAD,CAAL;AACD,GAJD;;AAKA,QAAMC,QAAQ,GAAIH,EAAD,IAAQ;AACvBhB,IAAAA,aAAa,CAAEoB,QAAD,IAAc;AAC1B,aAAO,EAAE,GAAGA,QAAL;AAAeJ,QAAAA,EAAE,EAAEA;AAAnB,OAAP;AACD,KAFY,CAAb;AAGD,GAJD;;AAMA,sBACE;AAAA,cACGnB,QAAQ,CAACwB,GAAT,CAAcC,GAAD,IAAS;AACrB,0BACE;AAAA,+BACE;AAAK,UAAA,KAAK,EAAC,MAAX;AAAA,iCACE;AAAK,YAAA,KAAK,EAAC,WAAX;AAAA,oCACE;AAAI,cAAA,KAAK,EAAC,YAAV;AAAA,wBAAwBA,GAAG,CAACrB;AAA5B;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAG,cAAA,KAAK,EAAC,WAAT;AAAA,wBAAsBqB,GAAG,CAACpB;AAA1B;AAAA;AAAA;AAAA;AAAA,oBAFF,eAIE,QAAC,IAAD;AACE,cAAA,EAAE,EAAG,SAAQoB,GAAG,CAACC,GAAI,EADvB;AAEE,cAAA,SAAS,EAAC,sBAFZ;AAGE,cAAA,OAAO,EAAE,MAAM;AACbJ,gBAAAA,QAAQ,CAACG,GAAG,CAACC,GAAL,CAAR;AACD,eALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF,eAcE;AACE,cAAA,SAAS,EAAC,sBADZ;AAEE,cAAA,OAAO,EAAE,MAAMR,UAAU,CAACO,GAAG,CAACC,GAAL,CAF3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAdF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF,uBADF;AA2BD,KA5BA;AADH,mBADF;AAiCD,CA1ED;;GAAM3B,O;;KAAAA,O;AA4EN,eAAeA,OAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Allpost = () => {\r\n  const [userData, setuserData] = useState([]);\r\n\r\n  const [updatedItem, setUpdateItem] = useState({\r\n    title: \"\",\r\n    content: \"\",\r\n  });\r\n\r\n  const getData = async () => {\r\n    try {\r\n      const res = await fetch(\"/read\", {\r\n        method: \"GET\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        credentials: \"include\",\r\n      });\r\n\r\n      const data = await res.json();\r\n      setuserData(data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n  const deleteData = (id) => {\r\n    axios.delete(`http://localhost:3000/delete/${id}`);\r\n    getData();\r\n    alert(\"item delete\");\r\n  };\r\n  const onUpdate = (id) => {\r\n    setUpdateItem((preInput) => {\r\n      return { ...preInput, id: id };\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {userData.map((val) => {\r\n        return (\r\n          <>\r\n            <div class=\"card\">\r\n              <div class=\"card-body\">\r\n                <h5 class=\"card-title\">{val.title}</h5>\r\n                <p class=\"card-text\">{val.content}</p>\r\n\r\n                <Link\r\n                  to={`/edit/${val._id}`}\r\n                  className=\"btn btn-outline-dark\"\r\n                  onClick={() => {\r\n                    onUpdate(val._id);\r\n                  }}\r\n                >\r\n                  Edit\r\n                </Link>\r\n\r\n                <button\r\n                  className=\"btn btn-outline-dark\"\r\n                  onClick={() => deleteData(val._id)}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Allpost;\r\n"]},"metadata":{},"sourceType":"module"}