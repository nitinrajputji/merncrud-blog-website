{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\nitin rajput\\\\Desktop\\\\projects\\\\blogwebsite\\\\server\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _defineProperty from\"C:\\\\Users\\\\nitin rajput\\\\Desktop\\\\projects\\\\blogwebsite\\\\server\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\defineProperty.js\";import _objectSpread from\"C:\\\\Users\\\\nitin rajput\\\\Desktop\\\\projects\\\\blogwebsite\\\\server\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _slicedToArray from\"C:\\\\Users\\\\nitin rajput\\\\Desktop\\\\projects\\\\blogwebsite\\\\server\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\nitin rajput\\\\Desktop\\\\projects\\\\blogwebsite\\\\server\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import\"./Createpost.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Createpost=function Createpost(){var history=useHistory();var _useState=useState({title:\"\",content:\"\"}),_useState2=_slicedToArray(_useState,2),userdata=_useState2[0],setuserdata=_useState2[1];var name,value;var handleInput=function handleInput(e){name=e.target.name;value=e.target.value;setuserdata(_objectSpread(_objectSpread({},userdata),{},_defineProperty({},name,value)));};var postData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var title,content,res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;e.preventDefault();title=userdata.title,content=userdata.content;_context.next=5;return fetch(\"/insert\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({title:title,content:content})});case 5:res=_context.sent;_context.next=8;return res.json();case 8:data=_context.sent;if(res.status===400||!data){alert(\"please enter data\");}else if(res.status===422){alert(\"please enter correct phone no.\");}else if(res.status===201){alert(\"add Item successfully\");history.push(\"/home\");}_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function postData(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"mainContainer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"contariner-fluid m-5 formContainer\",children:/*#__PURE__*/_jsxs(\"form\",{method:\"POST\",autoComplete:\"off\",className:\"formContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Name\",className:\"col-sm-2 col-form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"name\",name:\"title\",placeholder:\"Enter title\",value:userdata.title,onChange:handleInput})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlTextarea1\",className:\"col-2-sm-2 col-form-label\",children:\"Add content\"}),/*#__PURE__*/_jsx(\"textarea\",{class:\"form-control col-sm-10\",id:\"exampleFormControlTextarea1\",rows:\"3\",name:\"content\",value:userdata.content,onChange:handleInput,placeholder:\"Enter Content\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-outline-dark submitBtn \",onClick:postData,children:\"Add Data\"})]})})})});};export default Createpost;","map":{"version":3,"sources":["C:/Users/nitin rajput/Desktop/projects/blogwebsite/server/client/src/component/Createpost/Createpost.jsx"],"names":["React","useState","useHistory","Createpost","history","title","content","userdata","setuserdata","name","value","handleInput","e","target","postData","preventDefault","fetch","method","headers","body","JSON","stringify","res","json","data","status","alert","push","console","log"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./Createpost.css\";\r\nconst Createpost = () => {\r\n  const history = useHistory();\r\n\r\n  const [userdata, setuserdata] = useState({\r\n    title: \"\",\r\n    content: \"\",\r\n  });\r\n\r\n  let name, value;\r\n  const handleInput = (e) => {\r\n    name = e.target.name;\r\n    value = e.target.value;\r\n    setuserdata({ ...userdata, [name]: value });\r\n  };\r\n\r\n  const postData = async (e) => {\r\n    try {\r\n      e.preventDefault();\r\n      const { title, content } = userdata;\r\n      const res = await fetch(\"/insert\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          title,\r\n          content,\r\n        }),\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (res.status === 400 || !data) {\r\n        alert(\"please enter data\");\r\n      } else if (res.status === 422) {\r\n        alert(\"please enter correct phone no.\");\r\n      } else if (res.status === 201) {\r\n        alert(\"add Item successfully\");\r\n        history.push(\"/home\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"mainContainer\">\r\n        <div className=\"contariner-fluid m-5 formContainer\">\r\n          <form method=\"POST\" autoComplete=\"off\" className=\"formContainer\">\r\n            <div className=\"row mb-3\">\r\n              <label htmlFor=\"Name\" className=\"col-sm-2 col-form-label\">\r\n                Title\r\n              </label>\r\n\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"name\"\r\n                name=\"title\"\r\n                placeholder=\"Enter title\"\r\n                value={userdata.title}\r\n                onChange={handleInput}\r\n              />\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label\r\n                htmlFor=\"exampleFormControlTextarea1\"\r\n                className=\"col-2-sm-2 col-form-label\"\r\n              >\r\n                Add content\r\n              </label>\r\n              <textarea\r\n                class=\"form-control col-sm-10\"\r\n                id=\"exampleFormControlTextarea1\"\r\n                rows=\"3\"\r\n                name=\"content\"\r\n                value={userdata.content}\r\n                onChange={handleInput}\r\n                placeholder=\"Enter Content\"\r\n              ></textarea>\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-outline-dark submitBtn \"\r\n              onClick={postData}\r\n            >\r\n              Add Data\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Createpost;\r\n"]},"metadata":{},"sourceType":"module"}