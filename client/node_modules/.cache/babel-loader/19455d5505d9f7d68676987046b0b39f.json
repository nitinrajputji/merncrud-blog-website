{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\nitin rajput\\\\Desktop\\\\projects\\\\blogwebsite\\\\server\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _defineProperty from\"C:\\\\Users\\\\nitin rajput\\\\Desktop\\\\projects\\\\blogwebsite\\\\server\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\defineProperty.js\";import _objectSpread from\"C:\\\\Users\\\\nitin rajput\\\\Desktop\\\\projects\\\\blogwebsite\\\\server\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _slicedToArray from\"C:\\\\Users\\\\nitin rajput\\\\Desktop\\\\projects\\\\blogwebsite\\\\server\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\nitin rajput\\\\Desktop\\\\projects\\\\blogwebsite\\\\server\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import\"./Account.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Account(){var history=useHistory();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),switchToggle=_useState2[0],setswitchToggle=_useState2[1];var _useState3=useState({name:\"\",email:\"\",password:\"\",cpassword:\"\"}),_useState4=_slicedToArray(_useState3,2),userdata=_useState4[0],setuserdata=_useState4[1];var name,value;var handleInput=function handleInput(e){name=e.target.name;value=e.target.value;setuserdata(_objectSpread(_objectSpread({},userdata),{},_defineProperty({},name,value)));};var postData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _name,password,cpassword,email,res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;e.preventDefault();_name=userdata.name,password=userdata.password,cpassword=userdata.cpassword,email=userdata.email;_context.next=5;return fetch(\"/register\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:_name,password:password,cpassword:cpassword,email:email})});case 5:res=_context.sent;_context.next=8;return res.json();case 8:data=_context.sent;if(res.status===422||!data){alert(\"Invalid Registration\");}else{alert(\"Successful Registration\");history.push(\"/\");}_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function postData(_x){return _ref.apply(this,arguments);};}();var postLog=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var email,password,res,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();email=userdata.email,password=userdata.password;_context2.next=4;return fetch(\"/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})});case 4:res=_context2.sent;_context2.next=7;return res.json();case 7:data=_context2.sent;if(res.status===400||res.status===422||!data){alert(\"Invalied login\");}else{alert(\"Successful login\");history.push(\"/home\");}case 9:case\"end\":return _context2.stop();}}},_callee2);}));return function postLog(_x2){return _ref2.apply(this,arguments);};}();var login=function login(){switchToggle?setswitchToggle(false):setswitchToggle(true);};var register=function register(){switchToggle?setswitchToggle(false):setswitchToggle(true);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"account-page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-btn\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:login,children:\"Login\"}),/*#__PURE__*/_jsx(\"span\",{onClick:register,children:\"Register\"}),/*#__PURE__*/_jsx(\"hr\",{id:\"indicator\",className:switchToggle?\"indi1\":\"indi2\"})]}),/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",method:\"POST\",id:\"logForm\",className:switchToggle?\"logForm\":\"regForm\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"enter email\",name:\"email\",value:userdata.email,onChange:handleInput}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"enter password\",name:\"password\",value:userdata.password,onChange:handleInput}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",name:\"login\",className:\"btn\",onClick:postLog})]}),/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",method:\"POST\",id:\"regForm\",className:switchToggle?\"logForm\":\"regForm\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"user name\",name:\"name\",value:userdata.name,onChange:handleInput}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"enter email\",name:\"email\",value:userdata.email,onChange:handleInput}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"enter password\",name:\"password\",value:userdata.password,onChange:handleInput}),/*#__PURE__*/_jsx(\"input\",{type:\"Password\",placeholder:\"enter confirm password\",name:\"cpassword\",value:userdata.cpassword,onChange:handleInput}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",name:\"register\",className:\"btn\",onClick:postData})]})]})})})})})});}export default Account;","map":{"version":3,"sources":["C:/Users/nitin rajput/Desktop/projects/blogwebsite/server/client/src/component/Account/Account.jsx"],"names":["React","useState","useHistory","Account","history","switchToggle","setswitchToggle","name","email","password","cpassword","userdata","setuserdata","value","handleInput","e","target","postData","preventDefault","fetch","method","headers","body","JSON","stringify","res","json","data","status","alert","push","console","log","postLog","login","register"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./Account.css\";\r\n\r\nfunction Account() {\r\n  let history = useHistory();\r\n  const [switchToggle, setswitchToggle] = useState(false);\r\n  const [userdata, setuserdata] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    cpassword: \"\",\r\n  });\r\n  let name, value;\r\n  const handleInput = (e) => {\r\n    name = e.target.name;\r\n    value = e.target.value;\r\n    setuserdata({ ...userdata, [name]: value });\r\n  };\r\n\r\n  const postData = async (e) => {\r\n    try {\r\n      e.preventDefault();\r\n      const { name, password, cpassword, email } = userdata;\r\n      const res = await fetch(\"/register\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          name,\r\n          password,\r\n          cpassword,\r\n          email,\r\n        }),\r\n      });\r\n\r\n      const data = await res.json();\r\n      if (res.status === 422 || !data) {\r\n        alert(\"Invalid Registration\");\r\n      } else {\r\n        alert(\"Successful Registration\");\r\n        history.push(\"/\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const postLog = async (e) => {\r\n    e.preventDefault();\r\n    const { email, password } = userdata;\r\n    const res = await fetch(\"/login\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    });\r\n    const data = await res.json();\r\n    if (res.status === 400 || res.status === 422 || !data) {\r\n      alert(\"Invalied login\");\r\n    } else {\r\n      alert(\"Successful login\");\r\n      history.push(\"/home\");\r\n    }\r\n  };\r\n\r\n  const login = () => {\r\n    switchToggle ? setswitchToggle(false) : setswitchToggle(true);\r\n  };\r\n  const register = () => {\r\n    switchToggle ? setswitchToggle(false) : setswitchToggle(true);\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"account-page\">\r\n        <div className=\"container-main\">\r\n          <div className=\"row\">\r\n            <div className=\"col-2\">\r\n              <div className=\"form-container\">\r\n                <div className=\"form-btn\">\r\n                  <span onClick={login}>Login</span>\r\n                  <span onClick={register}>Register</span>\r\n                  <hr\r\n                    id=\"indicator\"\r\n                    className={switchToggle ? \"indi1\" : \"indi2\"}\r\n                  />\r\n                </div>\r\n\r\n                <form\r\n                  autoComplete=\"off\"\r\n                  method=\"POST\"\r\n                  id=\"logForm\"\r\n                  className={switchToggle ? \"logForm\" : \"regForm\"}\r\n                >\r\n                  <input\r\n                    type=\"email\"\r\n                    placeholder=\"enter email\"\r\n                    name=\"email\"\r\n                    value={userdata.email}\r\n                    onChange={handleInput}\r\n                  />\r\n                  <input\r\n                    type=\"password\"\r\n                    placeholder=\"enter password\"\r\n                    name=\"password\"\r\n                    value={userdata.password}\r\n                    onChange={handleInput}\r\n                  />\r\n                  <input\r\n                    type=\"submit\"\r\n                    name=\"login\"\r\n                    className=\"btn\"\r\n                    onClick={postLog}\r\n                  />\r\n                </form>\r\n                <form\r\n                  autoComplete=\"off\"\r\n                  method=\"POST\"\r\n                  id=\"regForm\"\r\n                  className={switchToggle ? \"logForm\" : \"regForm\"}\r\n                >\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"user name\"\r\n                    name=\"name\"\r\n                    value={userdata.name}\r\n                    onChange={handleInput}\r\n                  />\r\n                  <input\r\n                    type=\"email\"\r\n                    placeholder=\"enter email\"\r\n                    name=\"email\"\r\n                    value={userdata.email}\r\n                    onChange={handleInput}\r\n                  />\r\n                  <input\r\n                    type=\"password\"\r\n                    placeholder=\"enter password\"\r\n                    name=\"password\"\r\n                    value={userdata.password}\r\n                    onChange={handleInput}\r\n                  />\r\n                  <input\r\n                    type=\"Password\"\r\n                    placeholder=\"enter confirm password\"\r\n                    name=\"cpassword\"\r\n                    value={userdata.cpassword}\r\n                    onChange={handleInput}\r\n                  />\r\n                  <input\r\n                    type=\"submit\"\r\n                    name=\"register\"\r\n                    className=\"btn\"\r\n                    onClick={postData}\r\n                  />\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Account;\r\n"]},"metadata":{},"sourceType":"module"}