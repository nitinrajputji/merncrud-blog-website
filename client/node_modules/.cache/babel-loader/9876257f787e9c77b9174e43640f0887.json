{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\nitin rajput\\\\Desktop\\\\projects\\\\blogwebsite\\\\server\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\defineProperty.js\";import _objectSpread from\"C:\\\\Users\\\\nitin rajput\\\\Desktop\\\\projects\\\\blogwebsite\\\\server\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _slicedToArray from\"C:\\\\Users\\\\nitin rajput\\\\Desktop\\\\projects\\\\blogwebsite\\\\server\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import axios from\"axios\";import React,{useState,useEffect}from\"react\";import{useHistory,useParams}from\"react-router-dom\";import\"./update.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Update=function Update(){var _useParams=useParams(),id=_useParams.id;var ID=String(id);var history=useHistory();var _useState=useState({Name:\"\",Mobile:\"\",Email:\"\",Password:\"\",City:\"\"}),_useState2=_slicedToArray(_useState,2),updatedItem=_useState2[0],setUpdatedItem=_useState2[1];useEffect(function(){axios.get(\"http://localhost:3000/read\").then(function(response){var data=response.data;data.filter(function(val){return val._id===ID;}).map(function(val){setUpdatedItem(val);});});},[ID]);var handleUpdate=function handleUpdate(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUpdatedItem(function(preInput){return _objectSpread(_objectSpread({},preInput),{},_defineProperty({},name,value));});};var updateItem=function updateItem(id){axios.put(\"http://localhost:3000/update/\".concat(ID),updatedItem).then(function(res){});alert(\"item updated\");history.push(\"/Home\");};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"mainContainer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"contariner-fluid m-5 formContainer\",children:/*#__PURE__*/_jsxs(\"form\",{method:\"POST\",autoComplete:\"off\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Name\",className:\"col-sm-2 col-form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"name\",name:\"title\",placeholder:\"Enter title\",value:updatedItem.title,onChange:handleUpdate})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlTextarea1\",className:\"col-2-sm-2 col-form-label\",children:\"Add content\"}),/*#__PURE__*/_jsx(\"textarea\",{class:\"form-control col-sm-10\",id:\"exampleFormControlTextarea1\",rows:\"3\",name:\"content\",value:updatedItem.content,onChange:handleUpdate,placeholder:\"Enter Content\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-outline-dark submitBtn \",onClick:updateItem,children:\"Update Data\"})]})})})});};export default Update;","map":{"version":3,"sources":["C:/Users/nitin rajput/Desktop/projects/blogwebsite/server/client/src/component/Updatepost/Updatepost.jsx"],"names":["axios","React","useState","useEffect","useHistory","useParams","Update","id","ID","String","history","Name","Mobile","Email","Password","City","updatedItem","setUpdatedItem","get","then","response","data","filter","val","_id","map","handleUpdate","e","target","name","value","preInput","updateItem","put","res","alert","push","title","content"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport \"./update.css\";\r\n\r\nconst Update = () => {\r\n  const { id } = useParams();\r\n  const ID = String(id);\r\n  const history = useHistory();\r\n\r\n  const [updatedItem, setUpdatedItem] = useState({\r\n    Name: \"\",\r\n    Mobile: \"\",\r\n    Email: \"\",\r\n    Password: \"\",\r\n    City: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    axios.get(`http://localhost:3000/read`).then((response) => {\r\n      const data = response.data;\r\n      data\r\n        .filter((val) => {\r\n          return val._id === ID;\r\n        })\r\n        .map((val) => {\r\n          setUpdatedItem(val);\r\n        });\r\n    });\r\n  }, [ID]);\r\n\r\n  const handleUpdate = (e) => {\r\n    const { name, value } = e.target;\r\n    setUpdatedItem((preInput) => {\r\n      return {\r\n        ...preInput,\r\n        [name]: value,\r\n      };\r\n    });\r\n  };\r\n\r\n  const updateItem = (id) => {\r\n    axios\r\n      .put(`http://localhost:3000/update/${ID}`, updatedItem)\r\n      .then((res) => {});\r\n    alert(\"item updated\");\r\n    history.push(\"/Home\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"mainContainer\">\r\n        <div className=\"contariner-fluid m-5 formContainer\">\r\n          <form method=\"POST\" autoComplete=\"off\">\r\n            <div className=\"row mb-3\">\r\n              <label htmlFor=\"Name\" className=\"col-sm-2 col-form-label\">\r\n                Title\r\n              </label>\r\n\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"name\"\r\n                name=\"title\"\r\n                placeholder=\"Enter title\"\r\n                value={updatedItem.title}\r\n                onChange={handleUpdate}\r\n              />\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label\r\n                htmlFor=\"exampleFormControlTextarea1\"\r\n                className=\"col-2-sm-2 col-form-label\"\r\n              >\r\n                Add content\r\n              </label>\r\n              <textarea\r\n                class=\"form-control col-sm-10\"\r\n                id=\"exampleFormControlTextarea1\"\r\n                rows=\"3\"\r\n                name=\"content\"\r\n                value={updatedItem.content}\r\n                onChange={handleUpdate}\r\n                placeholder=\"Enter Content\"\r\n              ></textarea>\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-outline-dark submitBtn \"\r\n              onClick={updateItem}\r\n            >\r\n              Update Data\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Update;\r\n"]},"metadata":{},"sourceType":"module"}